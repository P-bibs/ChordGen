<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Chord Generator</title>
  <!-- Bootstrap -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="main.css">

</head>

<!-- Libraries-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.8.3/Tone.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="http://chancejs.com/chance.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
  integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
<script type="module">
  import * as PyChordParser from './__target__/PyChordParser.js'; window.PyChordParser = PyChordParser;</script>
<script src="main.js"></script>
<script src="util.js"></script>

<body onload="init()">
  <div class="container">
    <div class="column">
      <h1>Chord Generator <small>by Paul Biberstein</small></h1>
    </div>

    <div id="progContainer">
      <div class="row">
        <div class="column start-text">
          <br>
          Click "Generate New Progression" to Start
          <br>
          <br>
        </div>
      </div>
    </div>

    <div class="column">

      <div class="row">
        <div class="col-md-6">
          <button type="button" class="btn btn-success btn-large btn-block" onclick="generateProg()">
            Generate New Progression
          </button>
        </div>
        <div class="col-md-6">
          <button type="button" class="btn btn-success btn-large btn-block" onclick="playProg()">
            Play Current Progression
          </button>
        </div>
      </div>

      <button type="button" class="btn btn-danger btn-block" onclick="stopPlayback()">
        click here to stop
      </button>
    </div>

    <br>

    <div class="column">
      <h2>
        Configuration
      </h2>

      <label for="progInput">Chord Input</label>
      <div class="input-group">
        <input type="text" class="form-control" id="progInput">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" id="progInputBtn">Apply</button>
        </span>
      </div>
      <br>

      <label for="chordsPerProg">Number of Chords per Progression</label>
      <input type="number" class="form-control" id="chordsPerProg" value="5">
      <br>

      <label for="minimumChordalMembers">Minimum Chordal Members</label>
      <input type="number" class="form-control" id="minimumChordalMembers" value="3">
      <br>

      <label for="noteDuration">Seconds to Play Each Chord</label>
      <input type="number" class="form-control" id="noteDuration" value="2">
      <br>

      <label class="form-check-label" for="loopPlayback">Loop Playback</label>
      <br>
      <input class="form-check-input big-checkbox" type="checkbox" id="loopPlayback">

      <br>

      <label class="form-check-label" for="onlyNamedChords"><b style="color: red;">Experimental: </b>Use Un-Nameable Chords</label>
      <br>
      <input class="form-check-input big-checkbox" type="checkbox" id="onlyNamedChords">
    </div>

    <br>

    <div class="column">
      <h2>
        How do I use This?
      </h2>
      <p>
          To generate a new progression, click the green button on the left. To play it, click the green button on the right. This will play each chord in the progression for the duration specified in the configuration section. If you want to stop playback early, press the red button. If you want to start playback at a specific chord, click that chord's tile.
      </p>
      <p>
          While the progression is playing, The currently playing chord will have a progress bar that ticks up to show the remaining time that chord will be played for. Yet to be played chords are greyed out while already played chords have full progress bars.
      </p>
      <p>
        <b>
          Some settings are available to configure. Learn about them below
        </b>
      </p>
      <p>
        <b>Chord Input</b> - If you have your own progression you want to input for playback, enter it here and press 'Apply.' Alternatively, if you like the generated progression but just wanted to tweak it a little, apply those tweaks here and press 'Apply.'
      </p>
      <p>
        <b>Number of Chords Per Progression</b> - Choose the number of chords a generated progression should have.
      </p>
      <p>
        <b>Minimum Chordal Members</b> - pick the minimum amount of notes in generated chords. There will still be chords with more notes, but never chords with less. This setting can be a way to increase the relative 'complexity' of the chords in the progression.
      </p>
      <p>
        <b>Seconds to Play Each Chord</b> - Duration in seconds to play each chord. Decimal values are supported.
      </p>
      <p>
        <b>Loop Playback</b> - Check this box to have playback immediately start over from the beginning when the progression finishes.
      </p>
      <p>
        <b>Use Un-Nameable Chords</b> - This feature is experimental. By default, the generator will only use chords that can be resolved to human readable names. Disabling this will possibly introduce more exciting and exotic chords into your progression, but will cause some other features to break.
      </p>
    </div>
  </div>
</body>

</html>